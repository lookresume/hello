<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>安全验证 - 页面跳转</title>
  <!-- 引入外部资源 -->
  <script src="tailwindcss.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- 配置Tailwind自定义样式 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#4AB0F7',
            secondary: '#6BC2FF',
            neutral: '#E6EAEB',
            dark: '#242424',
            light: '#F8F9FA',
            success: '#22c55e',
            warning: '#f59e0b',
            danger: '#ef4444'
          },
          fontFamily: {
            sans: ['Arial', 'Microsoft YaHei', 'SimSun', 'sans-serif']
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.5s ease-out'
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            }
          }
        }
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .backdrop-blur {
        backdrop-filter: blur(8px);
      }
      .text-balance {
        text-wrap: balance;
      }
    }
  </style>
  
  <style>
    /* 基础样式 */
    body {
      @apply bg-gradient-to-br from-neutral to-gray-200 font-sans text-dark min-h-screen flex items-center justify-center p-3 relative overflow-x-hidden;
    }
    
    /* 主容器居中定位 */
    #js-alert-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 400px;
      z-index: 10;
    }
    
    /* 安全检测动画 */
    @keyframes securityCheck {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    .security-check {
      animation: securityCheck 0.5s ease-out forwards;
    }
    
    /* 进度条动画 */
    .progress-animation {
      transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    /* 小屏幕特别优化 */
    @media (max-width: 360px) {
      #js-alert-box {
        max-width: 95%;
        border-radius: 16px;
      }
      
      .alert-btn {
        padding: 12px 15px;
        font-size: 0.9rem;
      }
    }
  </style>
</head>

<body>
  <!-- 主容器 - 优化居中与自适应 -->
  <div id="js-alert-box" class="alert-box bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-500 hover:shadow-2xl animate-fade-in">
    
    <!-- 内容区域 -->
    <div class="p-5 md:p-7">
      <h2 id="js-alert-head" class="text-[clamp(1.1rem,3vw,1.4rem)] font-bold text-center mb-3 md:mb-5 text-dark">安全验证</h2>
      <div class="alert-concent text-center text-gray-600 mb-5 md:mb-7">
        <p class="text-sm md:text-base">正在环境检测 提升访问安全</p>
      </div>
      
      <!-- 进度条 -->
      <div class="w-full bg-gray-200 rounded-full h-3 mb-4 md:mb-6 overflow-hidden">
        <div id="progress-bar" class="bg-gradient-to-r from-warning to-orange-500 h-3 rounded-full progress-animation" style="width: 0%"></div>
      </div>
      
      <!-- 安全检测状态 -->
      <div id="security-status" class="mb-5 md:mb-7 space-y-3">
        <div class="security-check flex items-center" style="animation-delay: 0.1s">
          <i class="fa fa-circle-o-notch fa-spin text-warning mr-2"></i>
          <span>网络环境检测</span>
        </div>
        <div class="security-check flex items-center opacity-50" style="animation-delay: 0.3s">
          <i class="fa fa-circle-o-notch fa-spin text-warning mr-2"></i>
          <span>浏览器安全检测</span>
        </div>
        <div class="security-check flex items-center opacity-50" style="animation-delay: 0.5s">
          <i class="fa fa-circle-o-notch fa-spin text-warning mr-2"></i>
          <span>设备环境检测</span>
        </div>
      </div>
      
      <!-- 按钮 -->
      <a id="js-alert-btn" href="https://lookresume.github.io" class="alert-btn block w-full py-3 md:py-4 px-6 bg-warning hover:bg-orange-400 text-white text-center rounded-xl text-base font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg">
        <i class="fa fa-spinner fa-spin mr-1"></i> 正在验证安全环境
      </a>
    </div>
    
    <!-- 页脚 -->
    <div class="alert-footer bg-gray-50 border-t border-gray-200 py-3 px-4 flex items-center justify-center">
      <div class="flex items-center">
        <i class="fa fa-shield text-warning text-lg mr-2"></i>
        <p class="text-sm text-gray-700">安全加密传输 · 实时环境监测</p>
      </div>
    </div>
  </div>

  <script>
    // 配置参数 true false
    const config = {
      autoRedirect: true,
      redirectUrl: "https://lookresume.github.io",
      redirectCountdown: 3, // 自动跳转倒计时秒数
      securityChecks: [
        { name: "网络环境检测", progress: 30 },
        { name: "浏览器安全检测", progress: 70 },
        { name: "设备环境检测", progress: 100 }
      ]
    };
    
    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
      // 显示警报框
      document.getElementById("js-alert-box").style.display = "block";
      
      // 元素引用
      const progressBar = document.getElementById("progress-bar");
      const securityStatus = document.getElementById("security-status");
      const alertBtn = document.getElementById("js-alert-btn");
      
      // 安全检测状态项
      let statusItems = securityStatus.querySelectorAll('div');
      
      // 更新进度条
      function updateProgress(percentage) {
        progressBar.style.width = `${percentage}%`;
      }
      
      // 更新安全状态
      function updateSecurityStatus(step) {
        statusItems.forEach((item, index) => {
          if (index < step) {
            // 已完成步骤
            item.querySelector('i').className = 'fa fa-check text-success mr-2';
            item.classList.add('text-success', 'opacity-100');
            item.classList.remove('opacity-50');
          } else if (index === step) {
            // 进行中步骤
            item.querySelector('i').className = 'fa fa-circle-o-notch fa-spin text-warning mr-2';
            item.classList.remove('opacity-50');
          } else {
            // 未开始步骤
            item.classList.add('opacity-50');
          }
        });
      }
      
      // 初始状态
      updateSecurityStatus(0);
      
      // 模拟安全检测进度
      let progress = 0;
      let currentStep = 0;
      const progressInterval = setInterval(() => {
        progress += 4;
        updateProgress(progress);
        
        // 检测是否进入下一步
        while (currentStep < config.securityChecks.length && progress >= config.securityChecks[currentStep].progress) {
          currentStep++;
          updateSecurityStatus(currentStep);
        }
        
        if (progress >= 100) {
          clearInterval(progressInterval);
          completeSecurityCheck();
        }
      }, 70);
      
      // 完成安全检测
      function completeSecurityCheck() {
        // 添加完成动画
        alertBtn.classList.remove('bg-warning', 'hover:bg-orange-400');
        alertBtn.classList.add('bg-success', 'hover:bg-green-600');
        
        if (config.autoRedirect) {
          startRedirectCountdown();
        } else {
          alertBtn.innerHTML = '<i class="fa fa-check mr-1"></i> 点击前往目标网站';
        }
      }
      
      // 开始跳转倒计时
      function startRedirectCountdown() {
        let countdown = config.redirectCountdown;
        const countdownInterval = setInterval(() => {
          countdown--;
          if (countdown > 0) {
            alertBtn.innerHTML = `验证成功，${countdown}秒后跳转...`;
          } else {
            clearInterval(countdownInterval);
            location.href = config.redirectUrl;
          }
        }, 1000);
      }
      
      // 优化的键盘事件监听
      document.addEventListener('keydown', function(e) {
        // 禁止F12调试工具
        if (e.keyCode === 123) {
          e.preventDefault();
          showSecurityAlert();
        }
        // 禁止Ctrl+S保存
        if ((e.ctrlKey || e.metaKey) && e.keyCode === 83) {
          e.preventDefault();
          showSecurityAlert();
        }
      });
      
      // 禁止右键菜单（非输入区域）
      document.addEventListener('contextmenu', function(e) {
        if (!e.target.closest('input, textarea, button')) {
          e.preventDefault();
          showSecurityAlert();
        }
      });
      
      // 安全提示
      function showSecurityAlert() {
        const alertBox = document.createElement('div');
        alertBox.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-danger text-white px-4 py-2 rounded shadow-lg z-50 animate-fade-in';
        alertBox.textContent = '安全环境检测中，请勿进行调试操作';
        document.body.appendChild(alertBox);
        
        setTimeout(() => {
          alertBox.style.transition = 'opacity 0.5s';
          alertBox.style.opacity = '0';
          setTimeout(() => {
            document.body.removeChild(alertBox);
          }, 500);
        }, 3000);
      }
    });
  </script>
</body>
</html>